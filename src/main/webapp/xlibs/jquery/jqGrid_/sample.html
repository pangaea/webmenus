<html>
<!--http://www.trirand.com/blog/-->
<head>

<link rel="stylesheet" type="text/css" media="screen" href="css/jquery-ui-1.7.1.custom.css" /> 
<link rel="stylesheet" type="text/css" media="screen" href="css/ui.jqgrid.css" /> 


<script src="js/jquery.js" type="text/javascript"></script> 
<script src="js/jquery-ui-1.7.1.custom.min.js" type="text/javascript"></script> 
<script src="js/jquery.layout.js" type="text/javascript"></script> 
<script src="js/i18n/grid.locale-en.js" type="text/javascript"></script> 
<script src="js/jquery.jqGrid.min.js" type="text/javascript"></script> 
<script src="js/jquery.tablednd.js" type="text/javascript"></script> 
<script src="js/jquery.contextmenu.js" type="text/javascript"></script> 

</head>
<body>
<table id="list5" class="scroll" cellpadding="0" cellspacing="0"></table>
<div id="pager5" class="scroll" style="text-align:center;"></div>
<table id="list5" class="scroll" cellpadding="0" cellspacing="0"></table>
<div id="pager5" class="scroll" style="text-align:center;"></div>
<br />
<a href="#" id="a1">Get data from selected row</a>
<br />
<a href="#" id="a2">Delete row 2</a>
<br />
<a href="#" id="a3">Update amounts in row 1</a>
<br />
<a href="#" id="a4">Add row with id 99</a>
<!--script src="manipex.js" type="text/javascript"> </script-->
<br />

<script type="text/javascript">

jQuery("#list5").jqGrid({        
    url:'data.xml',
    datatype: "xml",
        colNames: ["id","name","amount"],
        colModel: [
            {name: "id",width:1,hidden:true, key:true},
            {name: "name", width:150, resizable: false, sortable:false},
            {name: "amount",width:1,hidden:true}
        ],
   	rowNum:10,
   	rowList:[10,20,30],
   	imgpath: "gridimgpath",
   	pager: jQuery('#pager5'),
   	sortname: 'id',
    viewrecords: true,
    sortorder: "desc",
    caption:"Simple data manipulation",
    editurl:""
}).navGrid("#pager5",{edit:false,add:false,del:false});
jQuery("#a1").click( function(){
	var id = jQuery("#list5").getGridParam('selrow');
	if (id)	{
		var ret = jQuery("#list5").getRowData(id);
		alert("id="+ret.id+" invdate="+ret.invdate+"...");
	} else { alert("Please select row");}
});
jQuery("#a2").click( function(){
	var su=jQuery("#list5").delRowData(12);
	if(su) alert("Succes. Write custom code to delete row from server"); else alert("Allready deleted or not in list");
});
jQuery("#a3").click( function(){
	var su=jQuery("#list5").setRowData(11,{amount:"333.00",tax:"33.00",total:"366.00",note:"<img src='images/user1.gif'/>"});
	if(su) alert("Succes. Write custom code to update row in server"); else alert("Can not update");
});
jQuery("#a4").click( function(){
	var datarow = {id:"99",invdate:"2007-09-01",name:"test3",note:"note3",amount:"400.00",tax:"30.00",total:"430.00"};
	var su=jQuery("#list5").addRowData(99,datarow);
	if(su) alert("Succes. Write custom code to add data in server"); else alert("Can not update");
});

</script>

</body>
</html>

